---
title: "HW1_implementation"
output: html_document
date: "2025-01-25"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(here)
source(here("source", "utils.R"))
set.seed(50)
```

```{r}
print(test_func(5))
```

### 1.1: ADEMP Structure 

Answer the following questions: 

* How many simulation scenarios will you be running?
We will be running 3 * 3 * 2   = 18 simulation scenarios

* What are the estimand(s)
The estimands are the average treatment effect $\beta_{treatment}$ and the 
standard error of treatment effect $se(\beta_{treatment})$

* What method(s) are being evaluated/compared?

3 methods are being compared - Wald confidence intervals, nonparametric 
bootstrap percentile intervals, and nonparametric boostrap t-intervals.

* What are the performance measure(s)?
The performance measures are bias, coverage, and computation time.

# 1.2: nSim
Based on desired coverage of 95\% with Monte Carlo error of no more than 1\%, how many simulations ($n_{sim}$) should we perform for each simulation scenario?  Implement this number of simulations throughout your simulation study.


```{r}
mc_err <- 0.01
cover <- 0.95
alpha <- 1 - 0.95
n_sim <- (cover * (1 - cover))/mc_err^2
n_sim
```
We should perform 475 simulations for each scenario
```{r}
n = c(10, 50, 500)
beta_true = c(0, 0.5, 2)
# 1 = normal, 0 = right skewed
err_norm = c(0, 1)
```

```{r}
library(parallel)
# Get the number of cores
detectCores()
#for (i in 1:n_sim) {
  
  
#}
```

```{r}
library(broom)

# Fit a linear model
model <- lm(mpg ~ wt, data = mtcars)

# Convert summary to dataframe
summary_df <- tidy(summary(model), conf.int = TRUE)

print(summary_df)
```





